

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Using the REST api &mdash; BiblioPixel 3.4.41 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How to write an Animation class for BiblioPixel" href="writing-an-animation-class.html" />
    <link rel="prev" title="Using numpy color lists" href="using-numpy.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> BiblioPixel
          

          
          </a>

          
            
            
              <div class="version">
                3.4.41
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">The BiblioPixel Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-help.html">Getting help</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Topic Papers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting BiblioPixel, <code class="docutils literal notranslate"><span class="pre">bp</span></code> and the AllPixel</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-controls.html">Using controls</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-numpy.html">Using <code class="docutils literal notranslate"><span class="pre">numpy</span></code> color lists</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Using the REST api</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#starting-bibliopixel-with-the-rest-api-enabled">Starting BiblioPixel with the REST API enabled</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-your-api-remotely-accessible">Make your API remotely accessible</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changing-the-port">Changing the port</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="writing-an-animation-class.html">How to write an <code class="docutils literal notranslate"><span class="pre">Animation</span></code> class for BiblioPixel</a></li>
<li class="toctree-l2"><a class="reference internal" href="stopping-and-restarting-bp.html">How to stop or restart <code class="docutils literal notranslate"><span class="pre">bp</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="writing-animated-gifs.html">Writing Animated GIFs from Projects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../reference.html">Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">BiblioPixel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">Topic Papers</a> &raquo;</li>
        
      <li>Using the REST api</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/topic-papers/using-rest-api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-the-rest-api">
<h1>Using the REST api<a class="headerlink" href="#using-the-rest-api" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>The REST api provides access to controls through the use of Web calls. You can use simple web calls.</p>
<p>The <a class="reference external" href="https://github.com/ManiacalLabs/BiblioPixel/blob/master/bibliopixel/control/rest/README.rst">REST README</a> provides some deeper information on the different types of endpoints, but this will get you started.</p>
<p>For the purpose of this tutorial, we’ll start with a simple Project to fill a 50 pixel RGB light strip with solid blue.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">shape</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="l l-Scalar l-Scalar-Plain">animation</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">typename</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fill.Fill</span>
  <span class="l l-Scalar l-Scalar-Plain">palette</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blue</span>
</pre></div>
</div>
</div>
<div class="section" id="starting-bibliopixel-with-the-rest-api-enabled">
<h2>Starting BiblioPixel with the REST API enabled<a class="headerlink" href="#starting-bibliopixel-with-the-rest-api-enabled" title="Permalink to this headline">¶</a></h2>
<p>In order to start the rest api, we must add just two lines of YAML. We are assuming that you are running this one the same computer as your browser. If not, we’ll address that in the next section.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">shape</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">50</span>
<span class="l l-Scalar l-Scalar-Plain">animation</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">typename</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">fill.Fill</span>
  <span class="l l-Scalar l-Scalar-Plain">palette</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">blue</span>
<span class="l l-Scalar l-Scalar-Plain">controls</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">typename</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
</pre></div>
</div>
<p>You rest API gets setup on port 8787 of your localhost by default. It is not externally accessible as there are no authentication methods in place.</p>
<p>You should now be able to go to <a class="reference external" href="http://127.0.0.1:8787">http://127.0.0.1:8787</a> and see a very simple form to build some basic API requests. Try putting <cite>animation.palette</cite> into the Address box and hitting the <cite>Get</cite> button. You should have the RGB values for blue returned.</p>
</div>
<div class="section" id="make-your-api-remotely-accessible">
<h2>Make your API remotely accessible<a class="headerlink" href="#make-your-api-remotely-accessible" title="Permalink to this headline">¶</a></h2>
<p>To make this remotely accessible, you will need to add <cite>external_access: true</cite> to the controls section like this.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">controls</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">typername</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
  <span class="l l-Scalar l-Scalar-Plain">external_access</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
</pre></div>
</div>
<p>Now you should be able to access the same API with <a class="reference external" href="http://YOURIP:8787">http://YOURIP:8787</a>. Replace YOURIP with your computer’s IP. If you  have problems, consider your computers firewall may be blocking external access on port 8787.</p>
</div>
<div class="section" id="changing-the-port">
<h2>Changing the port<a class="headerlink" href="#changing-the-port" title="Permalink to this headline">¶</a></h2>
<p>If you wish to change the port of the API server, you can do so with something like this.</p>
<div class="highlight-yaml notranslate"><div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">controls</span><span class="p p-Indicator">:</span>
  <span class="l l-Scalar l-Scalar-Plain">typername</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">rest</span>
  <span class="l l-Scalar l-Scalar-Plain">external_access</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">true</span>
  <span class="l l-Scalar l-Scalar-Plain">port</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">8888</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="writing-an-animation-class.html" class="btn btn-neutral float-right" title="How to write an Animation class for BiblioPixel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="using-numpy.html" class="btn btn-neutral" title="Using numpy color lists" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Maniacal Labs, Inc and Tom Ritchford

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>